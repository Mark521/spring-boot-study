## JAVA

### 1、并发编程

#### 为什么要用

1、处理器核心的利用率2、更快的响应时间3、更好的变成模型

#### 线程的状态

new runnabled（就绪、运行）block（阻塞）waiting（等待）dead（终止）

### 2、常用分布式锁的实现原理

a)数据库表-唯一索引  问题：性能；优点：简单

b)基于缓存redis：失效时间（避免死锁）、set插入值、插入成功获得锁

c)zookeeper：create节点，临时节点会话失效（防止死锁）

### 3、并发编程常用锁机制

悲观锁（数据库比较常见 for update）、乐观锁（基于版本号 and version=1，cas compareAndSwap（AtomicInteger-volatile））

### 4、编码-编码格式

unicode 和UTF-8

### 5、属性初始化步骤

### 6、异常的架构

### 7、内存结构

### 7、Java虚拟机内存的划分，每个区域的功能

程序计数器(线程私有) ○ 线程创建时创建，执行本地方法时其值为undefined。

 • 虚拟机栈(线程私有)

○ （栈内存）为虚拟机执行java方法服务：方法被调用时创建栈帧-->局部变量表->局部变量、对象引用 

○ 如果线程请求的栈深度超出了虚拟机所允许的深度，就会出现StackOverFlowError。-Xss规定了栈的大空间 

○ 虚拟机栈可以动态扩展，如果扩展到无法申请到足够的内存，会出现OOM • 本地方法栈(线程私有) 

○ java虚拟机栈是为虚拟机执行java方法服务的，而本地方法栈则为虚拟机执使用到的Native方法服务。 

○ Java虚拟机没有对本地方法栈的使用和数据结构做强制规定。Sun HotSpot把Java虚拟机栈和本地方法栈合二为一 

○ 会抛出StackOverFlowError和OutOfMemoryError



 • Java堆 

○ 被所有线程共享，在Java虚拟机启动时创建，几乎所有的对象实例都存放到堆中

 ○ GC的管理的主要区域 

○ 物理不连续，逻辑上连续，并可以动态扩展，无法扩展时抛出OutOfMemoryError 



• 方法区 

○ 用于存储已被虚拟机加载的类信息、常量、静态变量、即使编译器编译后的代码的数据

 ○ Sun HotSpot 虚拟机把方法区叫做永久待(Permanent Generation) 



• 运行时常量池

 ○ 受到方法区的限制，抛出OutOfMemoryError 

### 8、简介下集合框架





### 9、HashMap中 jdk7和jdk8实现的不同





### 10、String、StringBuffer、StringBuilder以及对String不变性的理解

### 11、 Java实现多线程的方式及四种方式的区别 

### 12、sleep和wait分别是那个类的方法，有什么区别 

○ sleep是Thread类的方法 

○ wait是Object类的方法 

• 有什么区别

 ○ sleep()方法（休眠）是线程类（Thread）的静态方法，调用此方法会让当前线程暂停执行指定的时间，将执行机会 （CPU）让给其他线程，但是对象的锁依然保持，因此休眠时间结束后会自动恢复（线程回到就绪状态）。 

○ wait()是Object类的方法，调用对象的wait()方法导致当前线程放弃对象的锁（线程暂停执行），进入对象的等待池 （wait pool），只有调用对象的notify()方法（或notifyAll()方法）时才能唤醒等待池中的线程进入等锁池（lock pool），如果线程重新获得对象的锁就可以进入就绪状态。 

### 13、JVM结构和垃圾回收机制GC

### 14、JavaIO中有哪几种类型的流

1、按流的方向：输入流和输出流

2、按实现的功能：节点流、处理流

3、按处理数据的单位：字节流和字符流

## Redis

### 1、数据类型

String  set,get,decr,incr,mget

Hash  hget,hset,hgetall

List  lpush,rpush,lpop,rpop,lrange(实现为双向链表，可支持反向查找和遍历，方便操作，不过增加了额外的内存开销，发送缓冲队列使用)

Set  sadd,spop,smembers,sunion

Sorted  set      zadd,zrange,zrem,zcard

### 2、redis整合缓存问题

#### 1、缓存穿透

描述：查询永不存在的值

解决：设置null，并设置过期时间

#### 2、缓存雪崩

描述：设置过期时间的Key，在同一时间过期，会造成数据库压力

解决：在原过期时间基础上，随机加上1-5分钟的缓存时间

#### 3、缓存击穿

描述：如果某个key在大量请求同时进来前刚好失效，那么所有对这个key的查询都会落在数据库

解决：加锁，大量查询只让一个去查，其他等待

### 3、缓存中数据的一致性问题

#### 1、更新缓存（双写）

#### 2、删除缓存（失效）

#### 3、解决方案

1、如果是用户信息，本身并发几率比较小， 不用考虑这个问题，缓存数据加上过期时间， 每个一段时间进行主动更新就行

2、如果是商品介绍、菜单等基础数据， 可以使用canal订阅binlog的方式

3、缓存数据+过期时间可以解决大部分业务对于缓存的要求

4、通过加锁保证并发读写 谢谢的时候按顺序排好队，嘟嘟无所谓， 所以适合使用读写操作

#### 4、一致性解决方案

1、缓存的所有数据有过期时间， 数据过期下一次查询触发主动更新

2、读写数据， 加上分布式的读写锁



## 数据结构

### 1、哈夫曼树

### 2、平衡二叉树为什么出现， 以及比二叉排序树有什么区别

### 3、数据库中的索引的结构？

### 4、B树、B+树、B*树

## 设计模式

### 1、用过什么设计模式

### 2、单例模式 创建的两种方式

## 算法

### 1、用过什么算法

### 2、简述下选择排序， 希尔排序

### 3、简述下快排

## SpringBoot

### 1、优缺点

优点 1、服务足够小，代码容易理解，聚焦指定业务 2、开发简单，效率搞 3、服务团队小 4、松耦合 5、能使用不同语言开发 6、易于与第三方集成，允许容易灵活的方式集成自动部署，通过持续集成工具，jenkns,hudson,bamboo 7、已于杯另外一个开发人员理解修改和维护 8、允许你利用融合心技术 9、利于前后端分离 10、每个微服务都有自己的存储能力，可以有自己的数据库。也可以有统一的数据库

缺点： 1、复杂性 2、运维唯独增加 3、部署依赖 4、通信成本 5、数据一致性 6、集成测试 7、性能监控

### 2、自动配置原理

在spring程序main方法中 添加@SpringBootApplication或者@EnableAutoConfiguration

会自动去maven中读取每个starter中的spring.factories文件 该文件里配置了所有需要被创建spring容器中的bean



## SpringCloud

### 1、SpringCloud和Dubbo的区别

1）通信方式不同

Dubbo 使用的是 RPC 通信，而 Spring Cloud 使用的是 HTTP RESTFul 方式。

2）组成部分不同

### 2、spring cloud 的核心组件有哪些

- Eureka：服务注册于发现。
- Feign：基于动态代理机制，根据注解和选择的机器，拼接请求 url 地址，发起请求。
- Ribbon：实现负载均衡，从一个服务的多台机器中选择一台。
- Hystrix：提供线程池，不同的服务走不同的线程池，实现了不同服务调用的隔离，避免了服务雪崩的问题。
- Zuul：网关管理，由 Zuul 网关转发请求给对应的服务。

### 3、微服务的优缺点分别是什么

**优点**

- 每一个服务足够内聚,代码容易理解
- 开发效率提高,一个服务只做一件事
- 微服务能够被小团队单独开发
- 微服务是松耦合的,是有功能意义的服务
- 可以用不同的语言开发,面向接口编程
- 易于与第三方集成
- 微服务只是业务逻辑的代码,不会和HTML,CSS或者其他界面组合

​    开发中,两种开发模式
​         前后端分离
​         全栈工程师

- 可以灵活搭配,连接公共库/连接独立库

**缺点**

- 分布式系统的负责性
- 多服务运维难度,随着服务的增加,运维的压力也在增大
- 系统部署依赖
- 服务间通信成本
- 数据一致性
- 系统集成测试
- 性能监控

### 4、Eureka和ZooKeeper都可以提供服务注册与发现的功能

1.ZooKeeper保证的是CP,Eureka保证的是AP

2.ZooKeeper有Leader和Follower角色,Eureka各个节点平等

3.ZooKeeper采用过半数存活原则,Eureka采用自我保护机制解决分区问题

4.Eureka本质上是一个工程,而ZooKeeper只是一个进程

### 4、Eureka比Zookeeper好在哪？

1. RDBMS(mysql/orcal/sqlserver) ==> ACID(原子性,一致性,独立性,持久性)
2. NOSQL ==> CAP(强一致性,可用性,分区容错性)
3. CAP(最多只能同时较好满足两个)三进二
4. 分布式必须要实现P
5. zookeeper保证CP(选举leader期间整个集群瘫痪,时间在30-120s之间),eureka保证AP(各个节点都是平等,有自我保护机制) eureka保护机制： 1 不再从注册列表中移除因为长时间没收到心跳而应该过期的服务 2 eureka仍然能够接受新服务注册和查询请求，但不会同步到其他节点上 3 当网络稳定时，当前实例新的注册信息会被同步到其他节点中

### 5、Ribbon是负载均衡， 对负载均衡的理解



### 6、 为什么选择SpringCloud为服务结构 

1. 选型依据：整体解决方案和框架成熟度
2. 社区热度
3. 可维护性
4. 学习曲线

### 7、熔断、降级



## 第三方登录

### 1、微信认证步骤

网站应用微信登陆基于OAuth2.0协议构建的授权登陆

### 2、微信的两种access_token

微信的access_toke有两种：一种是用于网页授权access_token，另一种是普通access_token；

区别

![image-20200615162436439](E:\giteeproject\spring-boot-study\java\image-20200615162436439.png)

### 3、支付宝支付的问题

## Docker

### 1、什么是Docker

### 2、怎么编写一个镜像，常见命令

### 3、 **解释基本的Docker使用工作流程** 

### 4、Docker分层概念

镜像的分层结构

Docker 支持通过扩展现有镜像，创建新的镜像。

实际上，Docker Hub 中 99% 的镜像都是通过在 base 镜像中安装和配置需要的软件构建出来的。比如我们现在构建一个新的镜像，Dockerfile 如下

***\*问什么 Docker 镜像要采用这种分层结构呢？\****

最大的一个好处就是 - 共享资源。

## 开放性

### 1、在项目中遇到的难的问题是什么？你是怎么解决的 

### 2、平常如何学习的 

### 3、系统性能的优化的思路

### 4、注意点

   2. 对应聘公司关注几点：第一技术栈；第二，发展前景；第三，薪资待遇；

   3. 对华傲公司和从事的业务方向比较认可；

   4. 职业规划：想深入技术学习；

   5.团队合作：有合作精神，愿意分享，之前团队也经常组织分享活动；

   6.学习能力：主动学习，问了几个问题，都答上了；

7. 工作地点：愿意来常熟工作。

   8.工作内容：关注来项目中的工作内容，已经解答，愿意接受。