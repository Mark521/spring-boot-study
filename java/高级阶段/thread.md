# 线程

## 1、基本概念

### 程序——静态代码

完成特定任务，用给某种语言编写的一组指令的集合。

### 进程

程序的一次执行过程，正在执行的一个程序——有生命周期。进程作为资源分配的单位，系统在运行时会为每个京城分配不同的内存区域

### 线程：

1、进程细化为线程，是一个程序内部的一条执行路；

2、若一个进程同一时间并行执行多个线程，就是支持多线程的

3、线程作为调度和执行的单位，每个线程拥有独立的运行栈和程序计数器，线程切换的开销小

4、一个进程的多个线程共享相同的内存单元/内存地址空间，他们从同一堆中分配对象， 可以访问相同的变量和对象。这就使得线程间通信简便高效， 但是多个线程操作共性的系统资源会带来安全问题

### 单核与多核CPU的理解

java——多个线程（main线程，gc垃圾回收线程，异常处理线程）

### 并行和并发

并行：多个CPU同时执行多个线程，多人在做不同 的事

并发：一个CPU（采用时间片）同时执行多个任务，秒杀，多人做同一件事

## 2、创建多线程

#### 1、JDK5.0之前的两种方法1

a、继承Thread的子类

b、重写Thread的run方法

c、创建子类的对象

d、调用对象的start的方法

#### 2、JDK5.0之前的两种方法2

1、实现Runnable接口

2、重写run方法

3、创建实现类的对象

4、将此对象作为参数传递到Thread类的构造器中，创建Thread类的对象

5、通过Thread类的对象调用start(),启动线程，调用当前线程的run-》调用Runnable的run， 如果不为空，则调用Thread的run

#### 3、对比



## 3、Thread常用方法

### 1、start

启动当前线程，调用当前线程run；

### 2、run

调用线程的操作

### 3、currentThread

获取当前线程

### 4、setName，getName

当前线程名称

### 5、yeild

当前线程释放当前CPU的执行

### 6、join

在线程A中调用线程B的join方法，A线程进入阻塞状态，线程B完成执行，结束阻塞状态；

### 7、stop

已过时， 调用此方法，强制结束当前线程

### 8、sleep

让当前线程睡眠（线程阻塞）

### 9、isAlive

判断当前线程是否还存活

### 10、线程调度

高优先级抢占低优先级的进程，但只是从概率上讲。

优先级设置：10-1 默认5；

setPriority()，getPriority()，