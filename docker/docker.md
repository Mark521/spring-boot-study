## 一、docker简介

#### 1、为什么出现

​	由于开发和部署的环境配置不同，所以在部署的时候需要将原始环境一模一样复制过来。（避免开发机器可运行，部署不能运行，==搬家直接搬楼==）

#### 2、是什么

​	基于GO语言实现的云开源框架

​	Docker目标：一次封装，处处运行。

​	只要开发自己配置好环境，换到别的机子上就可以一键部署好，简化操作

==解决了运行环境和配置问题软件容器，方便做持续集成并有助于整体发布的容器虚拟化技术==

#### 3、能干嘛

虚拟机：

​	1、缺点：资源占用多，冗余步骤多，启动慢

Docker：Linux容器（LXC）

​	1、传统虚拟机虚拟出一套硬件，在其上运行一个完整的操作系统，而容器内的应用进程直接运行于宿主机内核，容器没有内核，而且也没有进行硬件配置。比传统更轻便

​	2、容器间互相隔离，有自己的文件系统，进程间不会互相影响，耦合度较低

> 中文网站：www.docker-cn.com
>
> 仓库：dockerhub存储镜像

## 二、Docker安装

#### 1、查看版本

>uname -r
>
>cat /etc/redhat-release

#### 2、Docker基本组成

##### 	1、镜像

​		类比Java类，就是一个只读模板，用来创建Docker容器，一个镜像可以创建多个容器

##### 	2、容器

​		类比Java对象，利用镜像创建的运行实例，==简易版的Linux环境==。容器的定义和镜像几乎一模一样，也是一堆层的统一视角，唯一区别在于容器的最上面那已成是可读可写的

##### 	3、仓库

存放镜像文件的场所。仓库和仓库注册服务器有区别。仓库注册服务器上往往放着多个仓库，每个仓库有多个镜像，每个镜像有不同标签

##### 	4、总结

​	Docker本身就是一个管理引擎，或容器运行载体

##### 	5、版本

​	社区（免费），企业（收费）

#### 3、安装

##### 1、CentOS6.8

		>yum install -y epel-release确保已持有epel库
		>
		>yum install -y docker.io
		>
		>/etc/sysconfig/docker

##### 2、CentOS7

>卸载olderDocker 
>
>vim /etc/docker/daemon.json
>
>systemctl daemon-reload
>
>systemctl restart docker

#### 4、helloword和云加速

##### 1、阿里云镜像加速

- 登陆阿里云获取加速地址，操作配置文件
- service docker restart

#### 5、运行原理

- C-S结构，Docker守护进程运行在主机上，然后通过Socket练级从客户端访问，守护进程接受命令并管理运行容器
- 为什么比VM更快：docker有更少的抽象层，虚拟机（软件加硬件完整的操作系统）运用hypervisor实现硬件资源虚拟化。docker直接使用实际物理资源。因此在CPU，内存利用率上docker效率更高；2docker利用宿主机内核，不需要虚拟的操作系统避免费事耗资源

![](images/dockeVSvm.png)

### 三、常用命令

